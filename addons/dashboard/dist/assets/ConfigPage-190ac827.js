import{_ as p}from"./UiParentCard.vue_vue_type_script_setup_true_lang-b218ce2f.js";import{a as m}from"./axios-28bc18a3.js";import{o as a,s as l,a as i,w as d,f,F as n,u as g,V as v,d as V,e as h,t as k,a2 as y,c as r,a3 as b,a4 as C,k as _,A as x}from"./index-96c19dfb.js";const U={name:"ConfigPage",components:{UiParentCard:p},data(){return{config_data:{data:[]},save_message_snack:!1,save_message:"",save_message_success:""}},mounted(){this.getConfig()},methods:{getConfig(){m.get("/api/configs").then(s=>{this.config_data=s.data.data,console.log(this.config_data)})},updateConfig(){m.post("/api/configs",this.config_data).then(s=>{console.log(this.config_data),s.data.status==="success"?(this.save_message=s.data.message,this.save_message_snack=!0,this.save_message_success="success"):(this.save_message=s.data.message,this.save_message_snack=!0,this.save_message_success="error")})}}},N=Object.assign(U,{setup(s){return(t,c)=>(a(),l(n,null,[i(v,null,{default:d(()=>[i(f,{cols:"12",md:"12"},{default:d(()=>[(a(!0),l(n,null,g(t.config_data.data,o=>(a(),r(p,{key:o.name,title:o.name,style:{"margin-bottom":"16px"}},{default:d(()=>[(a(!0),l(n,null,g(o.body,e=>(a(),l(n,null,[e.config_type==="item"?(a(),l(n,{key:0},[e.val_type==="bool"?(a(),r(b,{key:0,modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,label:e.name,hint:e.description,color:"primary",inset:""},null,8,["modelValue","onUpdate:modelValue","label","hint"])):e.val_type==="string"?(a(),r(C,{key:1,modelValue:e.value,"onUpdate:modelValue":u=>e.value=u,label:e.name,hint:e.description,style:{"margin-bottom":"8px"},variant:"outlined"},null,8,["modelValue","onUpdate:modelValue","label","hint"])):_("",!0)],64)):e.config_type==="divider"?(a(),r(x,{key:1,style:{"margin-top":"8px","margin-bottom":"8px"}})):_("",!0)],64))),256))]),_:2},1032,["title"]))),128))]),_:1})]),_:1}),i(V,{icon:"mdi-content-save",size:"x-large",style:{position:"fixed",right:"52px",bottom:"52px"},color:"darkprimary",onClick:t.updateConfig},null,8,["onClick"]),i(y,{timeout:2e3,elevation:"24",color:t.save_message_success,modelValue:t.save_message_snack,"onUpdate:modelValue":c[0]||(c[0]=o=>t.save_message_snack=o)},{default:d(()=>[h(k(t.save_message),1)]),_:1},8,["color","modelValue"])],64))}});export{N as default};
