import{y as Q,p as i,o as r,c as _,w as e,a as t,O as g,b as a,d as f,j as w,P as M,q as z,Q as F,z as T,s as C,F as D,u as j,n as y,r as R,l as $,e as v,t as V,S as h,T as N,D as O,U as k,W as U,X as I,Y as W,Z as L,V as S,f as d,G as X,_ as E}from"./index-78c50a9e.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import{a as G}from"./axios-21b846bc.js";const Y={class:"d-flex align-start mb-6"},q={class:"ml-auto z-1"},A=a("h2",{class:"text-h1 font-weight-medium"}," ?? ",-1),H=a("span",{class:"text-subtitle-1 text-medium-emphasis text-white"},"消息总数",-1),Z={name:"TotalMessage",components:{},props:["stat"],data:()=>({stat:{}}),mounted(){}},J=Object.assign(Z,{setup(s){const o=Q([{title:"移除",icon:N}]);return(p,b)=>{const u=i("DotsIcon");return r(),_(h,{elevation:"0",class:"bg-secondary overflow-hidden bubble-shape bubble-secondary-shape"},{default:e(()=>[t(g,null,{default:e(()=>[a("div",Y,[t(f,{icon:"",rounded:"sm",color:"darksecondary",variant:"flat"},{default:e(()=>[t(w,{icon:"mdi-message"})]),_:1}),a("div",q,[t(M,{"close-on-content-click":!1},{activator:e(({props:n})=>[t(f,z({icon:"",rounded:"sm",color:"secondary",variant:"flat",size:"small"},n),{default:e(()=>[t(u,{"stroke-width":"1.5",width:"20"})]),_:2},1040)]),default:e(()=>[t(F,{rounded:"md",width:"150",class:"elevation-10"},{default:e(()=>[t(T,{density:"compact"},{default:e(()=>[(r(!0),C(D,null,j(o.value,(n,c)=>(r(),_(y,{key:c,value:c},{prepend:e(()=>[(r(),_(R(n.icon),{"stroke-width":"1.5",size:"20"}))]),default:e(()=>[t($,{class:"ml-2"},{default:e(()=>[v(V(n.title),1)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})])]),A,H]),_:1})]),_:1})}}}),K={class:"d-flex align-start mb-3"},tt={class:"ml-auto z-1"},et=a("h2",{class:"text-h1 font-weight-medium"}," ?? ",-1),at=a("span",{class:"text-subtitle-1 text-medium-emphasis text-white"},"会话总数",-1),st=a("h2",{class:"text-h1 font-weight-medium"}," 198 ",-1),ot=a("span",{class:"text-subtitle-1 text-medium-emphasis text-white"},"会话总数",-1),lt={name:"TotalSession",components:{},props:["stat"],data:()=>({stat:{}}),mounted(){}},nt=Object.assign(lt,{setup(s){const o=O("1"),p=k(()=>({chart:{type:"bar",height:90,fontFamily:"inherit",foreColor:"#a1aab2",sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#fff"],fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:3},yaxis:{min:0,max:100},tooltip:{theme:"dark",fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:()=>"会话总数"}},marker:{show:!1}}})),b={series:[{name:"series1",data:[45,66,41,89,25,44,9,54]}]},u=k(()=>({chart:{type:"bar",height:90,fontFamily:"inherit",foreColor:"#a1aab2",sparkline:{enabled:!0}},dataLabels:{enabled:!1},colors:["#fff"],fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:3},yaxis:{min:0,max:100},tooltip:{theme:"dark",fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:()=>"会话总数"}},marker:{show:!1}}})),n={series:[{name:"series1",data:[35,44,9,54,45,66,41,69]}]};return(c,l)=>{const m=i("apexchart");return r(),_(h,{elevation:"0",class:"bg-primary overflow-hidden bubble-shape bubble-primary-shape"},{default:e(()=>[t(g,null,{default:e(()=>[a("div",K,[t(f,{icon:"",rounded:"sm",color:"darkprimary",variant:"flat"},{default:e(()=>[t(w,{icon:"mdi-account-multiple-outline"})]),_:1}),a("div",tt,[t(U,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=x=>o.value=x),class:"theme-tab",density:"compact",end:""},{default:e(()=>[t(I,{value:"1","hide-slider":"",color:"transparent"},{default:e(()=>[v("按日")]),_:1}),t(I,{value:"2","hide-slider":"",color:"transparent"},{default:e(()=>[v("按月")]),_:1})]),_:1},8,["modelValue"])])]),t(W,{modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=x=>o.value=x),class:"z-1"},{default:e(()=>[t(L,{value:"1"},{default:e(()=>[t(S,null,{default:e(()=>[t(d,{cols:"6"},{default:e(()=>[et,at]),_:1}),t(d,{cols:"6"},{default:e(()=>[t(m,{type:"line",height:"90",options:p.value,series:b.series},null,8,["options","series"])]),_:1})]),_:1})]),_:1}),t(L,{value:"2"},{default:e(()=>[t(S,null,{default:e(()=>[t(d,{cols:"6"},{default:e(()=>[st,ot]),_:1}),t(d,{cols:"6"},{default:e(()=>[t(m,{type:"line",height:"90",options:u.value,series:n.series},null,8,["options","series"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}}),it={name:"OnlineTime",components:{},props:["stat"],watch:{stat:{handler:function(s,o){this.memory=s.sys_perf.memory},deep:!0}},data:()=>({_stat:{},memory:"Loading"}),mounted(){}},dt={class:"d-flex align-center gap-3"},rt=a("div",null,[a("h4",{class:"text-h4 font-weight-medium"},"?? 天 ?? 时 ?? 秒"),a("span",{class:"text-subtitle-2 text-medium-emphasis text-white"},"运行时间")],-1),ct={class:"d-flex align-center gap-3"},ut={class:"text-h4 font-weight-medium"},mt=a("span",{class:"text-subtitle-2 text-disabled font-weight-medium"},"占用内存",-1);function _t(s,o,p,b,u,n){return r(),C(D,null,[t(h,{elevation:"0",class:"bg-primary overflow-hidden bubble-shape-sm bubble-primary mb-6"},{default:e(()=>[t(g,{class:"pa-5"},{default:e(()=>[a("div",dt,[t(f,{color:"darkprimary",icon:"",rounded:"sm",variant:"flat"},{default:e(()=>[t(w,{icon:"mdi-clock"})]),_:1}),rt,t(X),a("div",null,[t(f,{icon:"",rounded:"sm",variant:"plain"},{default:e(()=>[t(w,{color:"black",icon:"mdi-stop",size:"32"})]),_:1})])])]),_:1})]),_:1}),t(h,{elevation:"0",class:"bubble-shape-sm overflow-hidden bubble-warning"},{default:e(()=>[t(g,{class:"pa-5"},{default:e(()=>[a("div",ct,[t(f,{color:"lightwarning",icon:"",rounded:"sm",variant:"flat"},{default:e(()=>[t(w,{icon:"mdi-memory"})]),_:1}),a("div",null,[a("h4",ut,V(s.memory)+" MiB",1),mt])])]),_:1})]),_:1})],64)}const ft=B(it,[["render",_t]]),ht=a("span",{class:"text-subtitle-2 text-disabled font-weight-bold"},"上行消息总趋势",-1),pt=a("h3",{class:"text-h3 mt-1"},"??",-1),bt={class:"mt-4"},vt={name:"MessageStat",components:{},props:["stat"],data:()=>({}),mounted(){}},gt=Object.assign(vt,{setup(s){const o=O({state:"Today",abbr:"FL"}),p=[{state:"今天",abbr:"FL"},{state:"今月",abbr:"GA"},{state:"今年",abbr:"NE"}],b=k(()=>({chart:{type:"bar",height:400,fontFamily:"inherit",foreColor:"#a1aab2",stacked:!0},colors:["#1e88e5","#5e35b1","#ede7f6"],responsive:[{breakpoint:400,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,columnWidth:"50%"}},xaxis:{type:"category",categories:["1","2","3","4","5","6","7","8","9","10","11","12"]},legend:{show:!0,fontFamily:"'Roboto', sans-serif",position:"bottom",offsetX:20,labels:{useSeriesColors:!1},markers:{width:16,height:16,radius:5},itemMargin:{horizontal:15,vertical:8}},fill:{type:"solid"},dataLabels:{enabled:!1},grid:{show:!0},tooltip:{theme:"dark"}})),u={series:[{name:"消息条数",data:[35,145,35,35,20,105,100,10,65,45,30,10]}]};return(n,c)=>{const l=i("apexchart");return r(),_(h,{elevation:"0"},{default:e(()=>[t(h,{variant:"outlined"},{default:e(()=>[t(g,null,{default:e(()=>[t(S,null,{default:e(()=>[t(d,{cols:"12",sm:"9"},{default:e(()=>[ht,pt]),_:1}),t(d,{cols:"12",sm:"3"},{default:e(()=>[t(E,{color:"primary",variant:"outlined","hide-details":"",modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=m=>o.value=m),items:p,"item-title":"state","item-value":"abbr",label:"Select","persistent-hint":"","return-object":"","single-line":""},null,8,["modelValue"])]),_:1})]),_:1}),a("div",bt,[t(l,{type:"bar",height:"280",options:b.value,series:u.series},null,8,["options","series"])])]),_:1})]),_:1})]),_:1})}}}),xt={class:"d-flex align-center"},yt=a("h4",{class:"text-h4 mt-1"},"各平台上行消息数",-1),wt={class:"ml-auto"},$t={class:"mt-4"},Vt={class:"d-inline-flex align-center justify-space-between w-100"},kt={class:"text-subtitle-1 text-medium-emphasis font-weight-bold"},St={class:"ml-auto text-subtitle-1 text-medium-emphasis font-weight-bold"},Tt={class:"text-center mt-3"},Ct={name:"PlatformStat",components:{},props:["stat"],watch:{stat:{handler:function(s,o){this.stat=s},deep:!0}},data:()=>({}),mounted(){}},Dt=Object.assign(Ct,{setup(s){k(()=>({chart:{type:"area",height:95,fontFamily:"inherit",foreColor:"#a1aab2",sparkline:{enabled:!0}},colors:["#5e35b1"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:1},tooltip:{theme:"dark",fixed:{enabled:!1},x:{show:!1},y:{title:{formatter:()=>"消息条数 "}},marker:{show:!1}}}));const o=O([{name:"QQ 群",count:14124},{name:"QQ 频道",count:612},{name:"Discord",count:123}]);return(p,b)=>{const u=i("DotsIcon"),n=i("perfect-scrollbar"),c=i("ChevronRightIcon");return r(),_(h,{elevation:"0"},{default:e(()=>[t(h,{variant:"outlined"},{default:e(()=>[t(g,null,{default:e(()=>[a("div",xt,[yt,a("div",wt,[t(M,{transition:"slide-y-transition"},{activator:e(({props:l})=>[t(f,z({color:"primary",size:"small",icon:"",rounded:"sm",variant:"text"},l),{default:e(()=>[t(u,{"stroke-width":"1.5",width:"25"})]),_:2},1040)]),default:e(()=>[t(F,{rounded:"md",width:"150",class:"elevation-10"},{default:e(()=>[t(T,null,{default:e(()=>[t(y,{value:"1"},{default:e(()=>[t($,null,{default:e(()=>[v("今天")]),_:1})]),_:1}),t(y,{value:"2"},{default:e(()=>[t($,null,{default:e(()=>[v("今月")]),_:1})]),_:1}),t(y,{value:"3"},{default:e(()=>[t($,null,{default:e(()=>[v("今年")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),a("div",$t,[t(n,{style:{height:"270px"}},{default:e(()=>[t(T,{lines:"two",class:"py-0"},{default:e(()=>[(r(!0),C(D,null,j(o.value,(l,m)=>(r(),_(y,{key:m,value:l,color:"secondary",rounded:"sm"},{default:e(()=>[a("div",Vt,[a("div",null,[a("h6",kt,V(l.name),1)]),a("div",St,V(l.count)+" 条",1)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1}),a("div",Tt,[t(f,{color:"primary",variant:"text"},{append:e(()=>[t(c,{"stroke-width":"1.5",width:"20"})]),default:e(()=>[v("详情 ")]),_:1})])])]),_:1})]),_:1})]),_:1})}}}),Ot={name:"DefaultDashboard",components:{TotalMessage:J,TotalSession:nt,OnlineTime:ft,MessageStat:gt,PlatformStat:Dt},data:()=>({stat:{}}),mounted(){G.get("/api/stats").then(s=>{console.log("stat",s.data.data),this.stat=s.data.data})}};function It(s,o,p,b,u,n){const c=i("TotalMessage"),l=i("TotalSession"),m=i("OnlineTime"),x=i("MessageStat"),P=i("PlatformStat");return r(),_(S,null,{default:e(()=>[t(d,{cols:"12",md:"4"},{default:e(()=>[t(c,{stat:s.stat},null,8,["stat"])]),_:1}),t(d,{cols:"12",md:"4"},{default:e(()=>[t(l,{stat:s.stat},null,8,["stat"])]),_:1}),t(d,{cols:"12",md:"4"},{default:e(()=>[t(m,{stat:s.stat},null,8,["stat"])]),_:1}),t(d,{cols:"12",lg:"8"},{default:e(()=>[t(x,{stat:s.stat},null,8,["stat"])]),_:1}),t(d,{cols:"12",lg:"4"},{default:e(()=>[t(P,{stat:s.stat},null,8,["stat"])]),_:1})]),_:1})}const Ft=B(Ot,[["render",It]]);export{Ft as default};
