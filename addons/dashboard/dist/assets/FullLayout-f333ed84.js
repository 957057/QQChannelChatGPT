import{o as s,c as n,w as t,e as p,t as V,g as K,h as Q,a as e,i as j,j as y,k as z,l as O,m as F,n as q,r as T,p as G,q as S,s as C,F as x,u as W,v as X,x as I,y as Y,b as _,z as Z,A as ee,B as d,C as te,D as b,d as h,E as L,M as D,G as w,H as $,I as k,J as A,K as R,L as E,N as B,V as ae,f as le,O as M,P,Q as se,R as ie,S as ne,T as oe,U as re,W as ue,X as de,Y as ce}from"./index-0719535f.js";import{_ as me,u as N}from"./LogoDark.vue_vue_type_script_setup_true_lang-ae7b1a25.js";import{m as U}from"./md5-cee6f11c.js";const fe=[{title:"面板",icon:"mdi-view-dashboard",to:"/dashboard/default"},{title:"配置",icon:"mdi-cog",to:"/config"},{title:"插件",icon:"mdi-puzzle",to:"/extension"},{title:"控制台",icon:"mdi-console",to:"/console"}],pe={__name:"NavGroup",props:{item:Object},setup(a){const l=a;return(o,f)=>(s(),n(K,{color:"darkText",class:"smallCap"},{default:t(()=>[p(V(l.item.header),1)]),_:1}))}},H={__name:"NavItem",props:{item:Object,level:Number},setup(a){return(l,o)=>(s(),n(q,{to:a.item.type==="external"?"":a.item.to,href:a.item.type==="external"?a.item.to:"",rounded:"",class:"mb-1",color:"secondary",disabled:a.item.disabled,target:a.item.type==="external"?"_blank":""},Q({prepend:t(()=>[a.item.icon?(s(),n(y,{key:0,color:a.item.iconColor,size:a.item.iconSize,class:"hide-menu",icon:a.item.icon},null,8,["color","size","icon"])):z("",!0)]),default:t(()=>[e(O,null,{default:t(()=>[p(V(a.item.title),1)]),_:1}),a.item.subCaption?(s(),n(F,{key:0,class:"text-caption mt-n1 hide-menu"},{default:t(()=>[p(V(a.item.subCaption),1)]),_:1})):z("",!0)]),_:2},[a.item.chip?{name:"append",fn:t(()=>[e(j,{color:a.item.chipColor,class:"sidebarchip hide-menu",size:a.item.chipIcon?"small":"default",variant:a.item.chipVariant,"prepend-icon":a.item.chipIcon},{default:t(()=>[p(V(a.item.chip),1)]),_:1},8,["color","size","variant","prepend-icon"])]),key:"0"}:void 0]),1032,["to","href","disabled","target"]))}},ve={__name:"IconSet",props:{item:Object,level:Number},setup(a){const l=a;return(o,f)=>l.level>0?(s(),n(T(l.item),{key:0,size:"5",fill:"currentColor","stroke-width":"1.5",class:"iconClass"})):(s(),n(T(l.item),{key:1,size:"20","stroke-width":"1.5",class:"iconClass"}))}},_e={__name:"NavCollapse",props:{item:Object,level:Number},setup(a){const l=a;return(o,f)=>{const m=G("NavCollapse",!0);return s(),n(X,{"no-action":""},{activator:t(({props:r})=>[e(q,S(r,{value:a.item.title,rounded:"",class:"mb-1",color:"secondary"}),{prepend:t(()=>[e(ve,{item:a.item.icon,level:a.level},null,8,["item","level"])]),default:t(()=>[e(O,{class:"mr-auto"},{default:t(()=>[p(V(a.item.title),1)]),_:1}),a.item.subCaption?(s(),n(F,{key:0,class:"text-caption mt-n1 hide-menu"},{default:t(()=>[p(V(a.item.subCaption),1)]),_:1})):z("",!0)]),_:2},1040,["value"])]),default:t(()=>[(s(!0),C(x,null,W(a.item.children,(r,c)=>(s(),C(x,{key:c},[r.children?(s(),n(m,{key:0,item:r,level:l.level+1},null,8,["item","level"])):(s(),n(H,{key:1,item:r,level:l.level+1},null,8,["item","level"]))],64))),128))]),_:1})}}},he={__name:"LogoMain",setup(a){return(l,o)=>(s(),n(me))}},Ve={class:"pa-5"},be={class:"pa-4 text-center"},ke=I({__name:"VerticalSidebar",setup(a){const l=N(),o=Y(fe);return(f,m)=>{const r=G("perfect-scrollbar");return s(),n(te,{left:"",modelValue:d(l).Sidebar_drawer,"onUpdate:modelValue":m[0]||(m[0]=c=>d(l).Sidebar_drawer=c),elevation:"0","rail-width":"105","mobile-breakpoint":"960",app:"",class:"leftSidebar",rail:d(l).mini_sidebar,"expand-on-hover":""},{default:t(()=>[_("div",Ve,[e(he)]),e(r,{class:"scrollnavbar"},{default:t(()=>[e(Z,{class:"pa-4"},{default:t(()=>[(s(!0),C(x,null,W(o.value,(c,g)=>(s(),C(x,{key:g},[c.header?(s(),n(pe,{item:c,key:c.title},null,8,["item"])):c.divider?(s(),n(ee,{key:1,class:"my-3"})):c.children?(s(),n(_e,{key:2,class:"leftPadding",item:c,level:0},null,8,["item"])):(s(),n(H,{key:3,item:c,class:"leftPadding"},null,8,["item"]))],64))),128))]),_:1}),_("div",be,[e(j,{color:"inputBorder",size:"small"},{default:t(()=>[p(" v1.0.0 ")]),_:1})])]),_:1})]),_:1},8,["modelValue","rail"])}}}),ye=_("span",{class:"text-h5"},"密码修改",-1),Ce=_("small",null,"如果是第一次修改密码，原密码请留空。",-1),xe=_("br",null,null,-1),ge=_("span",{class:"text-h5"},"更新项目",-1),we=_("p",null,"此功能正在开发中，你可以在消息平台内使用 `/update` 指令来更新。",-1),ze=I({__name:"VerticalHeader",setup(a){const l=N();b(!1);let o=b(!1),f=b(!1),m=b(""),r=b(""),c=b("");const g=v=>{window.open(v,"_blank")};function J(){m.value!=""&&(m.value=U.md5(m.value)),r.value=U.md5(r.value),ie.post("/api/change_password",{password:m.value,new_password:r.value}).then(v=>{if(v.data.status=="error"){c.value=v.data.message,m.value="",r.value="";return}o.value=!o.value,c.value=v.data.message,setTimeout(()=>{ne().logout()},1e3)}).catch(v=>{console.log(v),c.value=v,m.value="",r.value=""})}return(v,u)=>(s(),n(se,{elevation:"0",height:"80"},{default:t(()=>[e(h,{class:"hidden-md-and-down text-secondary",color:"lightsecondary",icon:"",rounded:"sm",variant:"flat",onClick:u[0]||(u[0]=L(i=>d(l).SET_MINI_SIDEBAR(!d(l).mini_sidebar),["stop"])),size:"small"},{default:t(()=>[e(d(D),{size:"20","stroke-width":"1.5"})]),_:1}),e(h,{class:"hidden-lg-and-up text-secondary ms-3",color:"lightsecondary",icon:"",rounded:"sm",variant:"flat",onClick:L(d(l).SET_SIDEBAR_DRAWER,["stop"]),size:"small"},{default:t(()=>[e(d(D),{size:"20","stroke-width":"1.5"})]),_:1},8,["onClick"]),e(w),e($,{modelValue:d(o),"onUpdate:modelValue":u[4]||(u[4]=i=>k(o)?o.value=i:o=i),persistent:"",width:"700"},{activator:t(({props:i})=>[e(h,S({class:"profileBtn text-primary",color:"lightprimary",variant:"flat",rounded:"pill"},i),{default:t(()=>[e(y,{icon:"mdi-account-edit",size:"25"})]),_:2},1040)]),default:t(()=>[e(A,null,{default:t(()=>[e(R,null,{default:t(()=>[ye]),_:1}),e(E,null,{default:t(()=>[e(B,null,{default:t(()=>[e(ae,null,{default:t(()=>[e(le,{cols:"12"},{default:t(()=>[e(M,{label:"原密码*",type:"password",modelValue:d(m),"onUpdate:modelValue":u[1]||(u[1]=i=>k(m)?m.value=i:m=i),required:""},null,8,["modelValue"]),e(M,{label:"新密码*",type:"password",modelValue:d(r),"onUpdate:modelValue":u[2]||(u[2]=i=>k(r)?r.value=i:r=i),required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),Ce,xe,_("small",null,V(d(c)),1)]),_:1}),e(P,null,{default:t(()=>[e(w),e(h,{color:"blue-darken-1",variant:"text",onClick:u[3]||(u[3]=i=>k(o)?o.value=!1:o=!1)},{default:t(()=>[p(" 关闭 ")]),_:1}),e(h,{color:"blue-darken-1",variant:"text",onClick:J},{default:t(()=>[p(" 提交 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e($,{modelValue:d(f),"onUpdate:modelValue":u[6]||(u[6]=i=>k(f)?f.value=i:f=i),width:"700"},{activator:t(({props:i})=>[e(h,S({class:"profileBtn text-primary",color:"lightprimary",variant:"flat",rounded:"pill"},i),{default:t(()=>[e(y,{icon:"mdi-update",size:"25"})]),_:2},1040)]),default:t(()=>[e(A,null,{default:t(()=>[e(R,null,{default:t(()=>[ge]),_:1}),e(E,null,{default:t(()=>[e(B,null,{default:t(()=>[we]),_:1})]),_:1}),e(P,null,{default:t(()=>[e(w),e(h,{color:"blue-darken-1",variant:"text",onClick:u[5]||(u[5]=i=>k(f)?f.value=!1:f=!1)},{default:t(()=>[p(" 关闭 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(h,{class:"profileBtn text-primary",color:"lightprimary",variant:"flat",onClick:u[7]||(u[7]=i=>g("https://github.com/Soulter/AstrBot")),rounded:"pill"},{default:t(()=>[e(y,{icon:"mdi-github",size:"25"})]),_:1})]),_:1}))}}),Ne=I({__name:"FullLayout",setup(a){const l=N();return(o,f)=>(s(),n(ce,null,{default:t(()=>[e(oe,{theme:"PurpleTheme",class:re([d(l).fontTheme,d(l).mini_sidebar?"mini-sidebar":"",d(l).inputBg?"inputWithbg":""])},{default:t(()=>[e(ke),e(ze),e(ue,null,{default:t(()=>[e(B,{fluid:"",class:"page-wrapper"},{default:t(()=>[_("div",null,[e(d(de))])]),_:1})]),_:1})]),_:1},8,["class"])]),_:1}))}});export{Ne as default};
